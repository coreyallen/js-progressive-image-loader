/**
 * Pilpil v1.0.0 - Progressive Image Loading
 * @link https://zafree.github.io/pilpil
 * @copyright 2015-2016 Zafree
 * @license MIT
 */
function startPrograssiveImage(){function t(t){var e=t.dataset.width,a=t.dataset.height,r=a/e*100,s=t.previousElementSibling;s.setAttribute("style","padding-bottom:"+r+"%;");var o=t.parentElement,n=o.offsetWidth,d=o.offsetHeight;o.setAttribute("style","max-width:"+n+"px; max-height:"+d+"px;");var h=t.querySelector(".progressiveMedia-thumbnail"),g=h.width,l=h.height,c=t.querySelector(".progressiveMedia-canvas");c.getContext("2d");c.height=l,c.width=g;var m=new Image;m.src=h.src,m.onload=function(){var e=new i(c,m);e.blur(2),t.classList.add("is-canvasLoaded")};var v=t.querySelector(".progressiveMedia-image");v.src=v.dataset.src,v.onload=function(){t.classList.add("is-imageLoaded")}}for(var e=document.querySelectorAll(".progressiveMedia"),a=0;a<e.length;a++)t(e[a]);var i=function(t,e){this.image=e,this.element=t,t.width=e.width,t.height=e.height,this.context=t.getContext("2d"),this.context.drawImage(e,0,0)};i.prototype={blur:function(t){this.context.globalAlpha=.5;for(var e=-t;e<=t;e+=2)for(var a=-t;a<=t;a+=2){this.context.drawImage(this.element,a,e);a>=0&&e>=0&&this.context.drawImage(this.element,-(a-1),-(e-1))}}}}